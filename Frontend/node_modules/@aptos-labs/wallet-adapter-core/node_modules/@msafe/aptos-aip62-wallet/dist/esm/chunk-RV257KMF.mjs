var r=class{constructor(){this._listeners={}}on(i,t,s=0){this._listeners[i]||(this._listeners[i]=[]),t._priority=s,this._listeners[i].indexOf(t)===-1&&(this._listeners[i].push(t),this._listeners[i].length>1&&this._listeners[i].sort(this.listenerSorter))}listenerSorter(i,t){return i._priority-t._priority}off(i,t){if(this._listeners[i]===void 0)return;if(t===void 0){delete this._listeners[i];return}let s=this._listeners[i].indexOf(t);-1<s&&this._listeners[i].splice(s,1)}trigger(i,t={}){if(typeof i=="string"&&(i={type:i,data:typeof t=="object"&&t!==null?t:{}}),typeof this._listeners[i.type]<"u")for(let s=this._listeners[i.type].length-1;s>=0;s--)this._listeners[i.type][s](i)}destroy(){this._listeners={}}};export{r as a};
//# sourceMappingURL=chunk-RV257KMF.mjs.map