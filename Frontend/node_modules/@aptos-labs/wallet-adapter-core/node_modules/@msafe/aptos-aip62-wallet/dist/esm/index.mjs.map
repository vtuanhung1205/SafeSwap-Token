{"version":3,"sources":["../../src/index.ts"],"sourcesContent":["import {\n  AccountAddress,\n  AccountAuthenticator,\n  AnyRawTransaction,\n  Ed25519PublicKey,\n  Hex,\n  InputGenerateTransactionOptions,\n  InputSubmitTransactionData,\n  Network,\n  PendingTransactionResponse,\n  Serializer,\n  SigningScheme,\n  SimpleTransaction\n} from '@aptos-labs/ts-sdk'\nimport {\n  InputTransactionData,\n  Types,\n  Wallet,\n  WalletName,\n  WalletReadyState\n} from '@aptos-labs/wallet-adapter-core'\nimport {\n  APTOS_CHAINS,\n  AccountInfo,\n  AptosChangeNetworkMethod,\n  AptosConnectMethod,\n  AptosConnectOutput,\n  AptosDisconnectMethod,\n  AptosFeatures,\n  AptosGetAccountMethod,\n  AptosGetNetworkMethod,\n  AptosOnAccountChangeInput,\n  AptosOnAccountChangeMethod,\n  AptosOnNetworkChangeInput,\n  AptosOnNetworkChangeMethod,\n  AptosSignAndSubmitTransactionInput,\n  AptosSignAndSubmitTransactionOutput,\n  AptosSignMessageInput,\n  AptosSignMessageMethod,\n  AptosSignMessageOutput,\n  AptosSignTransactionMethod,\n  AptosSignTransactionOutput,\n  AptosWallet,\n  AptosWalletAccount,\n  IdentifierArray,\n  NetworkInfo,\n  UserResponse,\n  UserResponseStatus\n} from '@aptos-labs/wallet-standard'\nimport { Bellhop } from './Bellhop'\n\nexport const MSafeWalletName = 'MSafe' as WalletName<'MSafe'>\n\nexport function inMSafeWallet(): boolean {\n  return (\n    typeof window !== 'undefined' &&\n    typeof document !== 'undefined' &&\n    typeof parent !== 'undefined' &&\n    typeof parent.window !== 'undefined' &&\n    parent.window !== window\n  )\n}\n\nexport interface ConnectResponse {\n  address: string\n}\n\nexport interface MSafeWalletServerApi {\n  connect: () => Promise<string>\n  signTransaction: AptosSignTransactionMethod\n  signMessage: AptosSignMessageMethod\n  signAndSubmitTransaction: (\n    transaction:\n      | Types.TransactionPayload\n      | InputTransactionData\n      | AnyRawTransaction\n      | AptosSignAndSubmitTransactionInput,\n    options?: InputGenerateTransactionOptions\n  ) => Promise<UserResponse<AptosSignAndSubmitTransactionOutput>>\n  submitTransaction(transaction: InputSubmitTransactionData): Promise<PendingTransactionResponse>\n}\n\nexport class MSafeWalletAccount implements AptosWalletAccount {\n  address: string\n  publicKey: Uint8Array\n  chains: IdentifierArray = APTOS_CHAINS\n  features: IdentifierArray = []\n  signingScheme: SigningScheme\n  label?: string\n  icon?:\n    | `data:image/svg+xml;base64,${string}`\n    | `data:image/webp;base64,${string}`\n    | `data:image/png;base64,${string}`\n    | `data:image/gif;base64,${string}`\n    | undefined\n  constructor(address: AccountAddress) {\n    this.address = address.toString()\n    this.publicKey = new Uint8Array()\n    this.chains = APTOS_CHAINS\n    this.signingScheme = SigningScheme.MultiEd25519\n  }\n}\n\nexport class MSafeWalletServer {\n  private bellhop = new Bellhop()\n\n  constructor(private iframe: HTMLIFrameElement, private api: MSafeWalletServerApi) {}\n\n  connect() {\n    this.bellhop.connect(this.iframe)\n\n    this.bellhop.on('connect', async () => {\n      const address = await this.api.connect()\n      console.log('ðŸš€ ~ MSafeWalletServer ~ on ~ connect:', address)\n      this.bellhop.respond('connectResponse', { address })\n    })\n\n    this.bellhop.on('signMessage', async (input: any) => {\n      const result = await this.api.signMessage(input)\n      console.log('ðŸš€ ~ MSafeWalletServer ~ on ~ signMessage:', result)\n      this.bellhop.respond('signMessageResponse', result)\n    })\n\n    this.bellhop.on('signTransaction', async (input: any) => {\n      const result = await this.api.signTransaction(input)\n      console.log('ðŸš€ ~ MSafeWalletServer ~ on ~ signTransaction:', result)\n      this.bellhop.respond('signTransactionResponse', result)\n    })\n\n    this.bellhop.on('submitTransaction', async (input: any) => {\n      const result = await this.api.submitTransaction(input)\n      console.log('ðŸš€ ~ MSafeWalletServer ~ on ~ submitTransaction:', result)\n      this.bellhop.respond('submitTransactionResponse', result)\n    })\n\n    this.bellhop.on('signAndSubmitTransaction', async (input: any) => {\n      const result = await this.api.signAndSubmitTransaction(input)\n      console.log('ðŸš€ ~ MSafeWalletServer ~ on ~ signAndSubmitTransaction:', result)\n      this.bellhop.respond('signAndSubmitTransactionResponse', result)\n    })\n  }\n\n  disconnect() {\n    console.log('ðŸš€ ~ MSafeWalletServer ~ disconnect:')\n    this.bellhop.disconnect()\n  }\n\n  changeAccount(address: string) {\n    console.log('ðŸš€ ~ MSafeWalletServer ~ changeAccount:', address)\n    this.bellhop.send('changeAccount', { address })\n  }\n}\n\nexport interface MSafeConfig {\n  network: Network\n  appId?: string // for registered app id\n  appUrl?: string // app url\n}\n\n/**\n * For 3rd party dApp\n */\nexport class MSafeWallet implements AptosWallet, Wallet {\n  readonly url: string\n  readonly isAIP62Standard = true\n  readonly version = '1.0.0'\n  readonly name = MSafeWalletName\n  readonly providerName = MSafeWalletName\n  readonly provider = null\n  // readonly readyState: WalletReadyState\n  readonly icon =\n    'data:image/png;base64,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'\n  chains = APTOS_CHAINS\n  accounts: MSafeWalletAccount[] = []\n  onAccountChangeInput?: AptosOnAccountChangeInput\n  onNetworkChangeInput?: AptosOnNetworkChangeInput\n\n  private bellhop = new Bellhop()\n\n  get features(): AptosFeatures {\n    return {\n      'aptos:connect': {\n        version: '1.0.0',\n        connect: this.connect\n      },\n      'aptos:network': {\n        version: '1.0.0',\n        network: this.network\n      },\n      'aptos:disconnect': {\n        version: '1.0.0',\n        disconnect: this.disconnect\n      },\n      'aptos:signTransaction': {\n        version: '1.0.0',\n        signTransaction: this.signTransaction\n      },\n      'aptos:signAndSubmitTransaction': {\n        // @ts-ignore\n        version: '1.0.0',\n        signAndSubmitTransaction: this.signAndSubmitTransaction\n      },\n      'aptos:signMessage': {\n        version: '1.0.0',\n        signMessage: this.signMessage\n      },\n      'aptos:onAccountChange': {\n        version: '1.0.0',\n        onAccountChange: this.onAccountChange\n      },\n      'aptos:onNetworkChange': {\n        version: '1.0.0',\n        onNetworkChange: this.onNetworkChange\n      },\n      'aptos:account': {\n        version: '1.0.0',\n        account: this.account\n      }\n    }\n  }\n\n  constructor(private config: MSafeConfig) {\n    const { network, appId, appUrl } = this.config\n\n    let url = 'https://aptos-testnet.m-safe.io/'\n\n    if (network !== Network.TESTNET) {\n      url = 'https://aptos.m-safe.io/'\n    }\n\n    if (appId) {\n      this.url = `${url}/store/${appId}`\n    } else {\n      this.url = `${url}/store/0?url=${appUrl}`\n    }\n\n    // this.readyState = inMSafeWallet() ? WalletReadyState.Installed : WalletReadyState.NotDetected\n\n    this.bellhop.connect()\n\n    this.bellhop.on('changeAccount', async (input: any) => {\n      console.log('ðŸš€ ~ MSafeWallet ~ on ~ changeAccount:', input, this.onAccountChangeInput)\n      if (this.onAccountChangeInput) {\n        const address = input.data.address\n        this.onAccountChangeInput(\n          new AccountInfo({\n            address: AccountAddress.fromString(address),\n            publicKey: new Ed25519PublicKey(address)\n          })\n        )\n      }\n    })\n  }\n  deeplinkProvider?: ((data: { url: string }) => string) | undefined\n  openInMobileApp?: (() => void) | undefined\n  changeNetwork?: AptosChangeNetworkMethod | undefined\n\n  account: AptosGetAccountMethod = async (): Promise<AccountInfo> => {\n    console.log('ðŸš€ ~ MSafeWallet ~ AptosGetAccountMethod:')\n    return this.getCurrentAccountInfo()\n  }\n\n  connect: AptosConnectMethod = async (): Promise<UserResponse<AptosConnectOutput>> => {\n    console.log('ðŸš€ ~ MSafeWallet ~ AptosConnectMethod:')\n    return this.getCurrentAccountInfo().then((accountInfo) => {\n      return {\n        status: UserResponseStatus.APPROVED,\n        args: accountInfo\n      }\n    })\n  }\n\n  network: AptosGetNetworkMethod = async (): Promise<NetworkInfo> => {\n    return {\n      name: this.config.network,\n      chainId: this.config.network === Network.MAINNET ? 1 : 2\n    }\n  }\n\n  disconnect: AptosDisconnectMethod = async (): Promise<void> => {\n    console.log('ðŸš€ ~ MSafeWallet ~ disconnect:')\n    return Promise.resolve()\n  }\n\n  signMessage: AptosSignMessageMethod = async (\n    input: AptosSignMessageInput\n  ): Promise<UserResponse<AptosSignMessageOutput>> => {\n    console.log('ðŸš€ ~ MSafeWallet ~ signMessage:')\n    this.bellhop.send('signMessage', input)\n    return this.fetch<UserResponse<AptosSignMessageOutput>>('signMessageResponse')\n  }\n\n  signTransaction: AptosSignTransactionMethod = async (\n    transaction: AnyRawTransaction,\n    asFeePayer?: boolean\n  ): Promise<UserResponse<AccountAuthenticator>> => {\n    console.log('ðŸš€ ~ MSafeWallet ~ signTransaction:')\n    this.bellhop.send('signTransaction', { transaction, asFeePayer })\n    return this.fetch<UserResponse<AptosSignTransactionOutput>>('signTransactionResponse')\n  }\n\n  async submitTransaction(\n    transaction: InputSubmitTransactionData\n  ): Promise<PendingTransactionResponse> {\n    console.log('ðŸš€ ~ MSafeWallet ~ submitTransaction:')\n    this.bellhop.send('submitTransaction', { transaction })\n    return this.fetch<PendingTransactionResponse>('submitTransactionResponse')\n  }\n\n  async signAndSubmitTransaction(\n    transaction:\n      | Types.TransactionPayload\n      | InputTransactionData\n      | AnyRawTransaction\n      | AptosSignAndSubmitTransactionInput,\n    options?: InputGenerateTransactionOptions\n  ): Promise<UserResponse<AptosSignAndSubmitTransactionOutput>> {\n    console.log('ðŸš€ ~ MSafeWallet ~ signAndSubmitTransaction:', transaction)\n\n    if (transaction.rawTransaction) {\n      const simpleTransaction: SimpleTransaction = transaction\n      const serializer = new Serializer()\n      simpleTransaction.rawTransaction.serialize(serializer)\n      const content = Hex.fromHexInput(serializer.toUint8Array()).toString()\n      this.bellhop.send('signAndSubmitTransaction', { transaction, options, content })\n    } else {\n      this.bellhop.send('signAndSubmitTransaction', { transaction, options })\n    }\n\n    const response = await this.fetch<UserResponse<AptosSignAndSubmitTransactionOutput>>(\n      'signAndSubmitTransactionResponse'\n    )\n    return response\n  }\n\n  onAccountChange: AptosOnAccountChangeMethod = async (listener): Promise<void> => {\n    console.log('ðŸš€ ~ MSafeWallet ~ onAccountChange ~ listener:', listener)\n    this.onAccountChangeInput = listener\n  }\n\n  onNetworkChange: AptosOnNetworkChangeMethod = async (listener): Promise<void> => {\n    console.log('ðŸš€ ~ MSafeWallet ~ onNetworkChange ~ listener:', listener)\n    this.onNetworkChangeInput = listener\n  }\n\n  private async getCurrentAccountInfo(): Promise<AccountInfo> {\n    this.bellhop.send('connect')\n    const { address } = await this.fetch<{ address: string }>('connectResponse')\n    console.log('ðŸš€ ~ MSafeWallet ~ getCurrentAccountInfo ~ address:', address)\n    return new AccountInfo({\n      address: AccountAddress.fromString(address),\n      publicKey: new Ed25519PublicKey(address)\n    })\n  }\n\n  private async fetch<T>(name: string) {\n    return new Promise<T>((resolve) => {\n      this.bellhop.fetch(name, (data: any) => {\n        resolve(data.data)\n      })\n    })\n  }\n}\n"],"mappings":"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","names":["AccountAddress","Ed25519PublicKey","Hex","Network","Serializer","SigningScheme","APTOS_CHAINS","AccountInfo","UserResponseStatus","MSafeWalletName","inMSafeWallet","MSafeWalletAccount","address","APTOS_CHAINS","SigningScheme","MSafeWalletServer","iframe","api","Bellhop","input","result","MSafeWallet","config","accountInfo","UserResponseStatus","Network","transaction","asFeePayer","listener","network","appId","appUrl","url","AccountInfo","AccountAddress","Ed25519PublicKey","options","simpleTransaction","serializer","Serializer","content","Hex","name","resolve","data"]}