"use strict";Object.defineProperty(exports, "__esModule", {value: true}); function _createStarExport(obj) { Object.keys(obj) .filter((key) => key !== "default" && key !== "__esModule") .forEach((key) => { if (exports.hasOwnProperty(key)) { return; } Object.defineProperty(exports, key, {enumerable: true, configurable: true, get: () => obj[key]}); }); } function _nullishCoalesce(lhs, rhsFn) { if (lhs != null) { return lhs; } else { return rhsFn(); } } function _optionalChain(ops) { let lastAccessLHS = undefined; let value = ops[0]; let i = 1; while (i < ops.length) { const op = ops[i]; const fn = ops[i + 1]; i += 2; if ((op === 'optionalAccess' || op === 'optionalCall') && value == null) { return undefined; } if (op === 'access' || op === 'optionalAccess') { lastAccessLHS = value; value = fn(value); } else if (op === 'call' || op === 'optionalCall') { value = fn((...args) => value.call(lastAccessLHS, ...args)); lastAccessLHS = undefined; } } return value; }var _core = require('@wallet-standard/core'); _createStarExport(_core);var _tssdk = require('@aptos-labs/ts-sdk');var g=class n extends _tssdk.Serializable{constructor({address:t,publicKey:e,ansName:s}){super();this.address=_tssdk.AccountAddress.from(t),this.publicKey=e,this.ansName=s}serialize(t){if(this.address.serialize(t),this.publicKey instanceof _tssdk.Ed25519PublicKey)t.serializeU32AsUleb128(_tssdk.SigningScheme.Ed25519);else if(this.publicKey instanceof _tssdk.MultiEd25519PublicKey)t.serializeU32AsUleb128(_tssdk.SigningScheme.MultiEd25519);else if(this.publicKey instanceof _tssdk.AnyPublicKey)t.serializeU32AsUleb128(_tssdk.SigningScheme.SingleKey);else if(this.publicKey instanceof _tssdk.MultiKey)t.serializeU32AsUleb128(_tssdk.SigningScheme.MultiKey);else throw new Error("Unsupported public key");this.publicKey.serialize(t),t.serializeStr(_nullishCoalesce(this.ansName, () => ("")))}static deserialize(t){let e=_tssdk.AccountAddress.deserialize(t),s=t.deserializeUleb128AsU32(),r;switch(s){case _tssdk.SigningScheme.Ed25519:r=_tssdk.Ed25519PublicKey.deserialize(t);break;case _tssdk.SigningScheme.MultiEd25519:r=_tssdk.MultiEd25519PublicKey.deserialize(t);break;case _tssdk.SigningScheme.SingleKey:r=_tssdk.AnyPublicKey.deserialize(t);break;case _tssdk.SigningScheme.MultiKey:r=_tssdk.MultiKey.deserialize(t);break;default:throw new Error(`Unknown variant index for WrappedPublicKey: ${s}`)}let l=t.deserializeStr()||void 0;return new n({address:e,publicKey:r,ansName:l})}};var x="aptos:devnet",h= exports.APTOS_TESTNET_CHAIN ="aptos:testnet",f= exports.APTOS_LOCALNET_CHAIN ="aptos:localnet",S= exports.APTOS_MAINNET_CHAIN ="aptos:mainnet",U= exports.APTOS_CHAINS =[x,h,f,S];var I=["aptos:account","aptos:connect","aptos:disconnect","aptos:network","aptos:onAccountChange","aptos:onNetworkChange","aptos:signMessage","aptos:signTransaction"];function T(n,p=[]){return[...I,...p].every(t=>t in n.features)}function G(){let{get:n,on:p}=_core.getWallets.call(void 0, ),t=n(),e=[];return t.map(s=>{T(s)&&e.push(s)}),{aptosWallets:e,on:p}}var w=(e=>(e[e.Unauthorized=4100]="Unauthorized",e[e.Unsupported=4200]="Unsupported",e[e.InternalError=-30001]="InternalError",e))(w||{}),m= exports.AptosWalletErrors =Object.freeze({4100:{status:"Unauthorized",message:"The requested method and/or account has not been authorized by the user."},[-30001]:{status:"Internal error",message:"Something went wrong within the wallet."},4200:{status:"Unsupported",message:"The requested feature is not supported."}}),d= exports.AptosWalletError =class n extends Error{constructor(t,e){super(_nullishCoalesce(_nullishCoalesce(e, () => (_optionalChain([m, 'access', _ => _[t], 'optionalAccess', _2 => _2.message]))), () => ("Unknown error occurred")));this.code=t,this.status=_nullishCoalesce(_optionalChain([m, 'access', _3 => _3[t], 'optionalAccess', _4 => _4.status]), () => ("Unknown error")),this.name="AptosWalletError",Object.setPrototypeOf(this,n.prototype)}};var D="aptos:signAndSubmitTransaction";var q="aptos:signMessage";var L="aptos:account";var $="aptos:connect";var J="aptos:network";var X="aptos:onAccountChange";var Z="aptos:onNetworkChange";var et="aptos:changeNetwork";var nt="aptos:disconnect";var rt="aptos:signTransaction";var at="aptos:openInMobileApp";var ct="aptos:signIn";var b=(t=>(t.APPROVED="Approved",t.REJECTED="Rejected",t))(b||{});exports.APTOS_CHAINS = U; exports.APTOS_DEVNET_CHAIN = x; exports.APTOS_LOCALNET_CHAIN = f; exports.APTOS_MAINNET_CHAIN = S; exports.APTOS_TESTNET_CHAIN = h; exports.AccountInfo = g; exports.AptosChangeNetworkNamespace = et; exports.AptosConnectNamespace = $; exports.AptosDisconnectNamespace = nt; exports.AptosGetAccountNamespace = L; exports.AptosGetNetworkNamespace = J; exports.AptosOnAccountChangeNamespace = X; exports.AptosOnNetworkChangeNamespace = Z; exports.AptosOpenInMobileAppNamespace = at; exports.AptosSignAndSubmitTransactionNamespace = D; exports.AptosSignInNamespace = ct; exports.AptosSignMessageNamespace = q; exports.AptosSignTransactionNamespace = rt; exports.AptosWalletError = d; exports.AptosWalletErrorCode = w; exports.AptosWalletErrors = m; exports.UserResponseStatus = b; exports.getAptosWallets = G; exports.isWalletWithRequiredFeatureSet = T;
//# sourceMappingURL=index.js.map